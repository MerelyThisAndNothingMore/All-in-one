---
tags:
 - dataStructure 
alias:
 - AVLTree
---
[[平衡二叉搜索树]]的一种，在Windows NT 内核中广泛使用。
搜索、添加、删除的时间复杂度是 O(logn)
# 基础
## 定义
平衡因子：某结点的左右子树的高度差
- 每个节点的平衡因子只可能是 1、0、-1 (绝对值 ≤ 1，如果超过 1，称之为 “失衡")
- 每个节点的左右子树高度差不超过1
## 实现
需要再添加和删除后，进行平衡。
- 添加
	- 可能会导致所有祖先节点都失衡
	- 只要让高度最低的失衡节点恢复平衡，整棵树就恢复平衡【仅需 O(1) 次调整】
- 删除
	- 可能会导致父节点或祖先节点失衡（只有1个节点会失衡）
	- 恢复平衡后，可能会导致更高层的祖先节点失衡【最多需要 O(logn) 次调整】
- 平均时间复杂度
	- 搜索：O(logn)
	- 添加：O(logn)，仅需 O(1) 次的旋转操作
	- 删除：O(logn)，最多需要 O(logn) 次的旋转操作
## 平衡操作
### RR-左旋
即失衡节点的RR位置导致失衡。
### LL-右旋
### LR-先左后右
### RL-先右后左
### 统一
将四种变化的结点进行排序：
![](https://gd-hbimg.huaban.com/96f948a305ee342cb3f3949abc3df2c3a826bb8124c83-A3CdIv) 
四种旋转都是将d变为父节点，b、f为子结点。
其中a、g没有变化，加上根节点，统一方法需要6个参数。
