---
tags:
 - dataStructure 
alias:
 - Symmetric Binary B-tree
 - RB-Tree
---
[[AVL树|AVL树]]的添加和删除性能有劣化可能。
[[平衡二叉搜索树]]，用于以下场景：
C++ STL（比如 map、set ）  
Java 的 TreeMap、TreeSet、HashMap、HashSet  
Linux 的进程调度  
Ngix 的 timer 管理
# 定义
1. 结点是Red或BLACK
2. 根节点必须是BLACK
3. 叶子结点(外部节点、空节点)是BLACK
4. RED结点的子结点是BLACK
	1. RED结点的父节点为BLACK
	2. 不能有两个连续RED结点。
5. 从任意节点到叶子结点的所有路径都包含相同数目的BLACK。
## 红黑树的等价变换
红黑树可以等价变换为4阶[[B树]]。
## 添加
4阶树的添加，必须从叶子结点开始，并且叶子结点只有4种情况：
1. 红黑红-101
2. 黑红-01
3. 红黑-10
4. 黑-0
> 0 ->黑 1->红
> 000：可以简化为0
> 001：不满足定义4-RED的子结点必须是BLACK
> 010：不满足叶子结点的根是BLACK
> 011：不满足叶子结点的根是BLACK
> 100：不满足定义5
> 101：符合
> 110：不满足叶子结点的根是BLACK
> 111：不满足叶子结点的根是BLACK
> 00：简化为0
> 01：符合
> 10：符合
> 11：不满足叶子结点的根是BLACK
> 0：符合
> 1：不满足叶子结点的根是BLACK

[恋上数据结构和算法](https://www.youtube.com/watch?v=u6ssBZsoAtg&list=PLwIrqQCQ5pQnRY6P-4XuMzpT3hK2WZlgX&index=26) 
上述4种情况中存在12个空位：
1. BLACK的子结点，可以直接添加RED结点
2. RED的子结点
	1. 叔父结点不是红色
		1. LL/RR
			1. 01 -> 011 -> 101
			2. 10 -> 110 -> 101
		2. LR/RL
			1. 01 -> 011 -> 101
			2. 10 -> 110 > 101
	2. 叔父结点是红色，需要上溢，染色叔父和父结点，将祖父结点添加
## 删除
在B树中，真正被删除都是叶子结点。
