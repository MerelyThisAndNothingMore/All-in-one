---
tags: 
alias:
---

# n皇后优化 - 合法性检查优化

## 合法性检查优化 O(n) -> O(1)

之前的**合法性检查**需要通过**遍历数组**来实现，现在使用3个`boolean`数组分别表示：

-   某一**列**是否有皇后：`boolean[] cols;`
-   某一**对角线**是否有皇后（左上角->右下角）:`boolean[] leftTop;`
-   某一**对角线**是否有皇后 (右上角->左下角)：`boolean[] rightTop;`

用这个进行合法性检查只需要 O(1) 的时间复杂度。

需要知道一个小技巧：根据**行**、**列**求**对角线索引**（左上、右上情况不同）