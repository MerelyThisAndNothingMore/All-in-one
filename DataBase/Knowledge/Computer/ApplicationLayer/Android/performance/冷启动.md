---
tags: 
alias:
---
系统不存在App进程（APP首次启动或APP被完全杀死）时启动APP
# 启动流程
**第一阶段**

> 1.加载并启动app;  
> 2.app启动后，第一时间为app显示一个空白的window；  
> 3.创建app进程

**第二阶段**

系统一旦创建了app进程，app进程就要负责做以下的任务：

> 1.创建app对象；  
> 2.启动主进程ActivityThread；  
> 3.创建MainActivity；  
> 4.渲染视图；  
> 5.执行onLayout；  
> 6.执行onDraw  
> 7.完成**第一次绘制**后，把mainActivity替换已经展示的BackgroundWindow，即空白window。

# 优化
## 主线程耗时
首屏必须：正面优化
非首屏必须：按需加载
业务降级
层级优化
主线程IO
按需加载
预加载
## 后台线程优化