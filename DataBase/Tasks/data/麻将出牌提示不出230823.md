---
tags: 
alias:
---
# 核心日志
```log
[W][2023-08-23 +80 10:53:55.484][17845, 2*][updateOptionLayout][, , 0][ [updateOptionLayout] isPlayMate=false, hintData=MJPlayerHint{hintType_=33, pengPai_=0, chiData_=HintChiData{otherPai_=27, combinations_=[ChiSeq{bytes=[27, 28, 29]}, ChiSeq{bytes=[26, 27, 28]}, ChiSeq{bytes=[25, 26, 27]}]}, gangData_=null, tingData_=null, actionEndTimestamp_=1692759243109}

[W][2023-08-23 +80 10:53:55.485][17845, 2*][updateOptionLayout][, , 0][ [updateOptionLayout] endTime=1692759243109, currentTime=1692759235082, diffTime=8027, hintType_=33

[W][2023-08-23 +80 10:53:55.556][17845, 2*][updateOptionLayout][, , 0][ [updateOptionLayout] isPlayMate=false, hintData=null
```

# 问题原因分析
客户端在接收到提示消息后，展示出牌提示，但立刻又调用了一次updateOptionLayout，且提示信息为空，导致出牌提示View消失。

## 调用方排查
### 3.90版本
- ~~buHua MoPaiDataEvent 会有日志
- ~~chiPai ChiDataEvent
- ~~chipaiAction 需要点击吃牌按钮
- ~~gangPai GangDataEvent
- ~~gangPaiAction 需要点击杠牌按钮
- ~~moPai MoPaiDataEvent 会有日志
- ~~onClick 需要分别点击对应按钮
- ~~pengPai PengDataEvent
- ~~putPai ChuPaiDataEvent 自身
- ~~updateTimer 操作倒计时，倒计时正常运行了。
	- 这里有可能是上一个倒计时刚好到了。
- ~~updateUI 需要updateGameInfo，有日志

### 3.79版本
- ~~buHua MoPaiDataEvent，有日志
- ~~chiPai ChiDataEvent 处理链路有日志
- ~~chipaiAction 点击option_chi_iv后触发
- ~~gangPai GangDataEvent 处理链路有日志
- ~~gangPaiAction 点击option_gang_iv后出发
- ~~moPai handleMoPai上有日志
- ~~onClick 需要点击对应的icon
	- option_peng_iv
	- option_ting_iv
	- option_hu_iv
	- option_pass_iv
- ~~pengPai  PengDataEvent 处理链路有日志
- ~~putPai ChuPaiDataEvent TingDataEvent
- updateTimer
- updateUI 会有日志

## 流程分析



- handlePutPai
- 
