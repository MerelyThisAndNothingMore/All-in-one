---
doubanId: 1477390
title: 代码大全（第2版）
subTitle: 
originalTitle: Code Complete
series: 博文视点·传世经典书丛
type: book
author:
  - 美/史蒂夫·迈克康奈尔
score: 9.3
scoreStar: ⭐⭐⭐⭐
datePublished: 2006-03-01
translator: 
publisher: 电子工业出版社
producer: 博文视点
isbn: 9787121022982
url: https://book.douban.com/subject/1477390/
totalPage: 966
readPage: 60
price: 128
tags:
  - 图书
binding: 平装
createTime: 2024-09-26 16:39:44
readStartDate: 2024-09-26
readEndDate: 
desc: 第2版的《代码大全》是著名IT畅销书作者史蒂夫·迈克康奈尔11年前的经典著作的全新演绎：第2版不是第一版的简单修订增补，而是完全进行了重写；增加了很多与时俱进的内容。这也是一本完整的软件构建手册，涵盖了软件构建过程中的所有细节。它从软件质量和编程思想等方面论述了软件构建的各个问题，并详细论述了紧跟潮流的新技术、高屋建瓴的观点、通用的概念，还含有丰富而典型的程序示例。这本书中所论述的技术不仅填补了初级与高级编程技术之间的空白，而且也为程序员们提供了一个有关编程技巧的信息来源。这本书对经验丰富的程序员、技术带头人、自学的程序员及几乎不懂太多编程技巧的学生们都是大有裨益的。可以说，无论是什么背景的读者，阅读这本书都有助于在更短的时间内、更容易地写出更好的程序。史蒂夫·迈克康奈尔（Steve McConnell）被公认为软件开发社区中的首要作者和发言人之一。他是Construx Software公司的首席软件工程师。他所编著的图书包括曾被《软件开发》杂志授予优异产品震撼大奖的《代码大全》和《快速软件开发》，以及《软件项目生存指南》和《专业软件开发》等等。
coverUrl: https://img1.doubanio.com/view/subject/l/public/s1495029.jpg
---

## 为什么要读这本书？

## 收获是什么？

## 目录


  - 第 1 章    欢迎进入软件构建的世界　　3
  - 第 2 章    用隐喻来更充分地理解软件开发　　9
  - 第 3 章    三思而后行：前期准备　　23
  - 第 4 章    关键的“构建”决策　　61
  - 第 5 章    软件构建中的设计　　73
  - 第 6 章    可以工作的类　　125
  - 第 7 章    高质量的子程序　　161
  - 第 8 章    防御式编程　　187
  - 第 9 章    伪代码编程过程　　215
  - 第 10 章    使用变量的一般事项　　237
  - 第 11 章    变量名的力量　　259
  - 第 12 章    基本数据类型　　291
  - 第 13 章    不常见的数据类型　　319
  - 第 14 章    组织直线型代码　　347
  - 第 15 章    使用条件语句　　355
  - 第 16 章    控制循环　　367
  - 第 17 章    不常见的控制结构　　391
  - 第 18 章    表驱动法　　411
  - 第 19 章    一般控制问题　　431
  - 第 20 章    软件质量概述　　463
  - 第 21 章    协同构建　　479
  - 第 22 章    开发者测试　　499
  - 第 23 章    调试　　535
  - 第 24 章    重构　　563
  - 第 25 章    代码调整策略　　587
  - 第 26 章    代码调整技术　　609
  - 第 27 章    程序规模对构建的影响　　649
  - 第 28 章    管理构建　　661
  - 第 29 章    集成　　689
  - 第 30 章    编程工具　　709
  - 第 31 章    布局与风格　　729
  - 第 32 章    自说明代码　　777
  - 第 33 章    个人性格　　819
  - 第 34 章    软件工艺的话题　　837
  - 第 35 章    何处有更多信息　　855
  - 参考文献  　　863
  - 索引  883

## 原文摘抄

> 普通的软件工程实践与最优秀的软件实践差距巨大——多半比其他工程学科中 的这种差距都要大。因此，传播优秀实践经验的工具是十分重要的。

### 第一章 欢迎进入软件构建的世界

#### What Is Software Construction

> 建活动 主要是编码与调试，但也涉及详细设计、规划构建、单 元测试、集成、集成测试等其他活动。如果这是 一本探讨软件开发中的方方面面 的书，那么它会以恰好平衡的篇幅来探讨软件开发中所有的活动。然而，因为本 书是 一本关于软件构建技术的手册，它会重点关注构建活动以及与之相关的话题。

#### Why Is Software Construction Important

> 构建活动的产物— —源代码——往往是对软件的唯 一精确描述

#### How to Read This Book

### 第二章 用 隐喻来更充分地理解软件开发

#### 隐喻的重要性

> 重要的研发成果常常产自类比(analogy)。通过把你不太理解的东西和一些你 较为理解、且十分类似的东西做比较，你可以对这些不太理解的东西产生更深刻 的理解。这种使用隐喻的方法叫做“建模(modeling)”。

#### 如何使用软件隐喻

> 如果有 一些能明确指导你该如何解决编程问题的信息，编程当然会更容易，结 果也更易预见。但编程这门学科还没那么先进，或许永远也不可能那么先进。对于 编 程 来 说 ， 最 大 的 挑 战 还 是 将 问 题 概 念 化 (c o n c e p t u a l i z i n g )， 编 程 中 的 很 多 错 误 都 是概念性的错误 。正因为每一个问题在概念上都是独特的，所以要找到一套能解决 所有问题的一通百通的指导规则是很难的、甚至是不太可能的。如此看来，能 一般 性地知道大致如何解决问题，至少也和知道如何解决特定问题一样有价值了。
> 
> 那么该如何使用软件中的隐喻呢?应该用它来提高你对编程问题和编程过程 的洞察力:用它来帮助你思考编程过程中的活动，想象出更好的做事情的方法。 你不可能看到 一行代码并说它违反了本章所描述的某个隐喻。但随着时间的流逝， 人们会发现，相对于不善运用隐喻的人来说，那些使用隐喻来照亮自己的软件开 发过程的人，他对于编程的理解会更好，并且能够更快地写出更好的代码。

#### 常见的软件隐喻

> 关于软件开发的最原始的隐喻是从“写作(writing)代码” 这个说法发展出 来的，这一隐喻暗示着开发 一个程序就像写一封有缘由的信 一样——坐下来，拿 出文房四宝，从头写到尾就完了。这时不需要正规地做计划，你想到什么东西把 它写出来就是了。

> 对于个人规模的工作乃至小型的项目来说，这种写信的隐喻已经足够了，然 而对于其他场合而言，这个隐喻还远远不够— 它没有完整、充分地刻画软件开 发工作。书写通常只是个人的活动，而一个软件项目多半会涉及承担许多不同职 责的很多人。在你写完一封信之后，你只要把它塞进信封然后寄出去就完了，你 再也不能修改它— —从任何程度和目的上看，这件事情都已经结束了。而软件的 修改没那么难，也很难说有真正完全结束的时候。

> 对写作而言，最重要的是其原创性。但是对于软件构建来说，“ 努 力创造真正的原创成果” 的开发效率，往往低于专注于重用(reuse)以往项目的 一些设计思想、代码以及测试用例 (test case)的开发效率。总之，写作这一隐喻 所暗示的软件开发过程太过简单 、太过呆板了。

> 盖房子 的时候，建材多少也是有些昂贵，但 主要的开销还是在人力上。把一栋墻推倒然 后移动半尺是很昂贵的，倒不在于浪费多少钉子，而是因为你要付给工人们更多 的 工钱，移动这堵墙耗费 了额外的工时。你只有尽可能地把房 子设计好，就像图 2-4 那样，这样你才不用浪费时间去修正那些本来可以避免的错误。在开发 一个软 件 产 品 时 ， 原 材 料 甚 至 更 加 廉 价 ， 但 劳 动 力 上的 花 销 也 更 昂 贵 。 变 更 一 份 报 表 的 格式所要付出的代价，和移动房间里的 一堵墻 一样高昂，因为两者的主要成本构 成部分都是花费人的时间。

> 建造一个房子的时候，你不会 去试着建造那些能买得到的现成的东西。你会买洗衣机、烘干机、洗碗机、电冰 箱以及冷藏柜。除非你是机电方面的巫师，否则你是不会考虑自己动手弄这些东 西的。你还会购买预先造好的橱柜、餐桌、门窗以及浴具，等等。当开发软件时， 你也会这么做的。你会大量使用高级语言所提供的功能，而不会自己去编写操作 系统层次的代码。你可能还要用些现成的程序库，比如说一些容器类 (container classes)、科学计算函数、用户界面组件、数据库访问组件，等等。总之，自己编 写那些能买得到的现成的代码通常是没有意义的。

> 适当的多层次的规划对于建造建筑物和构建软件都有好处。如果你按错误的 顺序构建软件，那么编码、测试和调试都会更难。需要花更长的时间才能完成， 甚 至整 个项 目 干脆 就 分 崩 离 析 了—— 由 于每 个 人的 工作 都 过 于复 杂 ， 所 有成 果组 合 在 一起 的 时 候 就 变 得 混 乱 不 堪 了 。

> 用建筑房屋来类比软件构建，还有助于解释为什么不同的软件项目能从不同 的开发方法中获益。建筑业中，盖间仓库或者工具房，或是一座医院或者核反应 站，你在规划、设计及质量保证方面所需达到的程度是不一样的。盖一座学校、 一幢摩天大楼，或一座三居室的小别墅，所用的方法也不会相同。同理，在软件 开 发 中 ， 通 常 你 只 需 要 用 灵 活 的 、 轻 量 级 的 (l i g h t w e i g h t ) 方 法 ， 但 有 时 你 就 必 须 得用严格的 、重量级的开发方法，以达到所需的安全性目标或其他什么目标。

> 建筑这一隐喻让人们对超大型的软件项目的认识更加深刻。超大型的 结构 一旦出现问题，后果将非常严重，因此有必要对这样的结构进行超出常规的 规划与建设 (over -engineered)。建筑人员需要非常小心地制定并核查设计规划， 在建设时留有余地以保障安全:宁可多花 10%的成本买更坚固的材料，也比摩天 大楼倒下来要划算得多。还需要特别关注 工作的时间。在建造帝国大厦 (The Empire Building )的时候，每辆运料车运输时都留有 15 分钟的余地。如果某辆车 没能在指定时间到位，则整个工期就会延误。
> 同理，对 于超大型的软件项目，就需要比一般规模的项目有更高级别的规划 设计。Capers Jones发表的报告称，一套100万行代码的软件系统，平均需要69种 文 档 ( 1 9 9 8 )。 其 需 求 规 格 文 档 一 般 有 四 五 千 页 长 ， 而 设 计 文 档 常 常 是 需 求 的 两 三倍长。不太可能有哪 个人能完全理解这种规模的项目的所有设计细节— 一甚 至只是通读一遍都不那么容易。因此，更充分的准备工作也就理所应当了。

### 第三章 三思而后行 :前期准备




