---
tags: 
alias:
---

在next()方法中，有一个屏障的概念(message.target \=\= null为屏障消息), 遇到target为null的Message，说明是 同步屏障，循环遍历找出一条异步消息，然后处理。 在同步屏障没移除前，只会处理异步消息，处理完所有的异步 消息后，就会处于堵塞 当出现屏障的时候，会滤过同步消息，而是直接获取其中的异步消息并返回, 就是这样来实现 「异步消息优先执行」的功能
1、[[Handler]]构造方法中传入async参数，设置为true，使用此[[Handler]]添加的Message都是异步的; 
2、创建Message对象时，直接调用setAsynchronous(true) 3、removeSyncBarrier() 移除同步屏障:

在[[view]]绘制时用来确保绘制消息（是异步消息）的优先级。

