---
tags: 
alias:
---

# 优化
## 常规写法
```java
int fib0(int n) {  
	if (n <= 2) return 1;  
	return fib0(n - 1) + fib0(n - 2);  
}
```
-   根据递推式 T(n) = T(n − 1) + T(n − 2) + O(1)，可知：
-   时间复杂度：O(2n)
-   空间复杂度：O(n)
递归调用的空间复杂度 = 递归深度 * 每次调用所需的辅助空间

## fib优化1 — 记忆化

用数组存放计算过的结果，避免重复计算

时间复杂度：O(n)，空间复杂度：O(n)

## fib优化2 — 去除递归调用

这是一种 “**自底向上**” 的计算过程

时间复杂度：O(n)，空间复杂度：O(n)
## fib优化3 — 滚动数组

由于每次运算只需要用到数组中的 2 个元素，所以可以使用**滚动数组**来优化

时间复杂度：O(n)，空间复杂度：O(1)
## fib优化4 — 去除数组

只有两个元素，直接通过2个变量即可，不需要创建数组。

时间复杂度：O(n)，空间复杂度：O(1)

## fib优化5 — 数学公式
![](https://img-blog.csdnimg.cn/20200415154418183.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzczNDA5NQ==,size_16,color_FFFFFF,t_70)



