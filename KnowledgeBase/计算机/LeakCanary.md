---
tags: 
alias:
---

LeakCanary是一个开源的内存泄露检测库，专为[[Android]]和[[Java]]应用程序设计。它由Square公司开发，旨在帮助开发者轻松地发现和修复应用程序中的[[内存泄漏]]问题。

### 主要特性

1. **自动检测**：LeakCanary可以自动监控应用程序，在发现内存泄露时立即通知开发者。
2. **易于集成**：LeakCanary提供了简单的API，只需几行代码就可以集成到任何Android项目中。
3. **详细报告**：当检测到内存泄露时，LeakCanary会提供详细的泄露信息，包括泄露[[对象]]的引用链，帮助开发者快速定位问题源头。
4. **堆分析**：LeakCanary包含一个内置的堆分析器，可以分析应用的堆内存，找出泄露的对象和引用路径。
5. **可视化界面**：LeakCanary提供了一个用户友好的界面，展示内存泄露的详细信息，使得分析和解决问题更加直观。

### 工作原理

LeakCanary的工作原理基于监控应用程序中可能发生泄露的对象。当这些对象应该被[[垃圾收集]]时，LeakCanary会保持一个弱引用（WeakReference）来跟踪它们。如果在一定时间后这些对象仍然存在，LeakCanary会认为发生了内存泄露，并自动触发堆内存的转储（Heap Dump）。然后，它会分析堆转储文件，寻找导致对象未被回收的引用链，并生成一份报告。

