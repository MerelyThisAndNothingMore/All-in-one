---
tags: 
alias:
- Recursion
---

# 定义

递归（Recursion）是计算机科学中的一种编程技术，一个[[函数]]通过调用自身来解决问题。递归的核心思想是将复杂问题分解为规模更小的子问题，通过重复解决子问题来最终解决原问题。递归通常用于解决那些可以通过相同方式分解为更小实例的问题。

## 特点

1. **自我调用**：
   - 递归函数通过直接或间接调用自身来解决问题。
   
2. **基线条件**：
   - 递归函数必须包含一个或多个基线条件（base case），用于终止递归。基线条件定义了递归的边界，不满足基线条件时继续递归，满足时终止递归。
   
3. **递归步骤**：
   - 除了基线条件，递归函数还包含递归步骤（recursive step），它将问题分解为更小的实例，并调用自身处理这些子问题。
   
4. **堆栈使用**：
   - 递归调用通常依赖于系统调用堆栈，保存每次函数调用的状态，当函数返回时，堆栈[[回溯]]到前一个调用状态。

## 相似概念辨析

1. **递归 vs 迭代**：
   - 递归通过函数自我调用实现循环，而迭代通过循环结构（如 `for` 或 `while`）实现。递归通常更直观，但在一些情况下效率不如迭代。
   
2. **递归 vs 分治法**：
   - [[分治]]法（Divide and Conquer）是一种[[算法]]设计范式，递归是其常用实现方式。分治法将问题分解为若干个独立的子问题，分别求解后合并结果。

3. **递归 vs 尾递归**：
   - 尾递归（Tail Recursion）是一种特殊的递归形式，其中递归调用是函数中的最后一个操作。尾递归可以被[[编译器]]优化为迭代，减少堆栈使用。

# 原理

递归函数通过不断调用自身处理更小的子问题，直到达到基线条件。每次调用会在系统堆栈上创建新的函数帧，保存当前调用的状态。递归调用结束后，系统堆栈逐层返回到前一个调用状态，直到最外层调用完成。

递归函数的基本结构通常如下：

```cpp
void recursiveFunction(parameters) {
    if (base case condition) {
        // 基线条件处理
        return;
    } else {
        // 递归步骤
        recursiveFunction(smaller problem);
    }
}
```

# 使用

递归在很多编程场景中有广泛应用，尤其适用于那些可以通过相同方式分解为更小实例的问题。

1. **数学计算**：
   - 递归用于实现数学函数，如阶乘、[[斐波那契数列]]等。
   - 示例（计算阶乘）：
     ```cpp
     int factorial(int n) {
         if (n <= 1) return 1; // 基线条件
         else return n * factorial(n - 1); // 递归步骤
     }
     ```

2. **数据结构**：
   - 递归用于遍历和操作[[树]]、[[图]]等递归结构的数据结构。
   - 示例（遍历二叉树）：
     ```cpp
     void traverseTree(Node* root) {
         if (root == nullptr) return; // 基线条件
         traverseTree(root->left); // 递归左子树
         cout << root->value << " ";
         traverseTree(root->right); // 递归右子树
     }
     ```

3. **算法设计**：
   - 递归用于实现许多经典算法，如[[快速排序]]、[[归并排序]]、[[汉诺塔]]等。
   - 示例（快速排序）：
     ```cpp
     void quickSort(vector<int>& arr, int low, int high) {
         if (low < high) {
             int pi = partition(arr, low, high); // 划分数组
             quickSort(arr, low, pi - 1); // 递归排序左子数组
             quickSort(arr, pi + 1, high); // 递归排序右子数组
         }
     }
     ```

# Q & A

1. **什么是递归？**
   - 递归是函数通过调用自身来解决问题的编程技术。

2. **递归的优点和缺点是什么？**
   - 优点：代码简洁，容易理解，特别适合解决可以分解为更小实例的问题。
   - 缺点：容易导致栈溢出，效率有时不如迭代，需要基线条件来避免无限递归。

3. **如何避免递归导致的栈溢出？**
   - 可以使用尾递归优化、增加基线条件或转换为迭代方法。

4. **递归在实际编程中有哪些应用？**
   - 数学计算、数据结构操作（如树和图的遍历）、算法设计（如[[排序]]和分治算法）等。

通过理解递归的定义、特点、原理和实际应用，可以在编程中有效地使用递归，解决复杂问题，提高代码的可读性和维护性。



