---
tags: 
aliases:
  - Inversion of Control
---

# 定义

控制反转（Inversion of Control, IoC）是一种设计原则，用于减少代码之间的耦合度。通过将[[对象]]创建和依赖关系管理的控制权从应用程序代码转移到框架或容器，IoC 使得代码更加模块化、可维护和可测试。在 IoC 机制下，对象不再直接创建或管理它们的依赖，而是由外部的容器来提供和管理这些依赖。

## 特点

1. **解耦**：

• 通过将对象的依赖关系注入到对象中而不是在对象内部创建，IoC 实现了对象之间的低耦合，提高了代码的可维护性和可扩展性。

2. **可测试性**：

• 由于对象的依赖关系是从外部注入的，测试时可以方便地替换实际依赖，使用模拟对象（Mock）进行单元测试。

3. **模块化**：

• IoC 使得应用程序更加模块化，各个模块可以独立开发、测试和部署，从而提高了开发效率。

4. **可配置性**：

• 通过配置文件或[[注解]]，可以灵活地配置对象的依赖关系，而不需要修改代码本身。

# 原理

控制反转的核心思想是将控制权从应用程序代码转移到外部容器或框架。IoC 的实现方式主要有以下几种：

  

1. **依赖注入 (Dependency Injection, DI)**：

• 这是 IoC 最常用的一种实现方式。依赖注入将对象的依赖关系通过构造函数、方法参数或属性注入的方式传递给对象。

2. **依赖查找 (Dependency Lookup)**：

• 对象通过查找上下文或服务定位器来获取所需的依赖。

3. **事件驱动**：

• 使用事件机制，当某个事件发生时，容器会自动调用相应的对象方法。



# 使用