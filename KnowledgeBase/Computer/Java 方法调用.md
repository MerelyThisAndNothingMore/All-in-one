---
tags: 
alias:
---

方法调用并不等同于[[方法|方法]]中的代码被执行，方法调用阶段唯一的任务就是确定被调用方法的版本 (即调用哪一个方法)，暂时还未涉及方法内部的具体运行过程。

[[Class文件]]的编译过程中不包含传统程序语言编译的连接步骤，一切方法调用在Class文件里面存储的都只是符号引用，而不是方法在实际运行时[[内存]]布局 中的入口地址(也就是之前说的直接引用)。这个特性给[[Java]]带来了更强大的动态扩展能力，但也使 得Java方法调用过程变得相对复杂，某些调用需要在[[Java 类加载|类加载]]期间，甚至到运行期间才能确定目标方法 的直接引用。

# 调用步骤

## 解析

所有方法调用的目标方法在Class文件里面都是一个常量池中的符号引用，在类加载的解析阶段，会将其中的一部分符号引用转化为直接引用，这种解析能够成立的前提是: [[方法|方法]]在程序真正运行之前就有一个可确定的调用版本，并且这个方法的调用版本在运行期是不 可改变的。换句话说，调用目标在程序代码写好、编译器进行编译那一刻就已经确定下来。这类方法的调用被称为解析(Resolution)。

在Java语言中符合“编译期可知，运行期不可变”这个要求的方法，主要有静态方法和私有方法两 大类，前者与类型直接关联，后者在外部不可被访问，这两种方法各自的特点决定了它们都不可能通 过继承或别的方式重写出其他版本，因此它们都适合在类加载阶段进行解析。

## 分派

